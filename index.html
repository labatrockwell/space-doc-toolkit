<!doctype html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.css" />

	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.js"></script>
</head>
<body>
    <div id="home" data-role="page">
        <div  data-role="content">
            <ul id="results" class="list" data-role="listview">
            </ul>
        </div>
    </div>
</body>
<script type="text/javascript">
$.getJSON('space.js', function(data) {
    var items = [];
    for(var i = 0; i < data.table.rows.length; i++) {
        $.each(data.table.rows[i], function(key, val) {
            items.push('<li class="' + data.table.cols[key] + ' listitem"><i>' + data.table.cols[key]+'</i>: '+ val + '</li>');
        });
        $('<li/>', {
            'id': 'mainItem' + i
        }).appendTo('#results');
        $('#mainItem' + i).text(data.table.rows[i][1]);
        $('<ul/>', {
            'id': 'location' + i,
            'class': 'list',
            html: items.join('')
        }).appendTo('#mainItem' + i);
        items = [];
    }
    $('.list').listview('refresh');
});
</script>
</html>


